# Consolidate with other notes

#### NetBIOS/Server Message Block \(SMB\) TCP 139/445 

NetBIOS listens on TCP 139 and several UDP ports. SMB \(TCP 445\) and NetBIOS are separate protocols; however, modern implementations of SMB often utilize NetBIOS over TCP for backwards compatibility.

```text
nmap -v -p 139,445 10.11.1.1-254 sudo nbtscan -r 10.11.1.0/24 
```

Numerous NSE scripts also available 

#### Network File System \(NFS\) TCP 111 

Distributed file system protocol for sharing over a network. Often used with UNIX operating systems and is predominantly insecure in its implementation. Portmapper and RPCbind both listen on port 111 and redirects clients to appropriate ports, often TCP 2049. 

We can scan these ports to look for hosts: 

```text
nmap -v -p 111 10.11.1.1-254
```

 We can also use NSE script rpcinfo to find services registered with rpcbind 

```text
nmap -sV -p 111 --script=rpcinfo 10.11.1.1-254 
```

Once we find NFS running, we can collect additional information and enumerate with additional scripts: 

```text
nmap -p 111 --script nfs* 10.11.1.72 
```

Finally we can mount any shares we find 

```text
mkdir home sudo mount -o nolock 10.11.1.72:/home ~/home/ 
```

#### Simple Mail Transfer Protocol \(SMTP\) TCP 25 

Connect to the service using netcat: 

```text
nc -nv 10.11.1.217 25 
```

Use the VRFY command to verify the existence of an email address Use the EXPN command to ask the server for the membership of a mailing list These features can be used to enumerate users on the system. 

#### Simple Network Management Protocol \(SNMP\) UDP 161 

SNMP is commonly misunderstood resulting in misconfigurations. We can scan for SNMP using nmap. 

```text
sudo nmap -sU --open -p 161 10.11.1.1-254 
```

We can also use tools such as onesitxyone to attempt to brute force a list of IP addresses 

```text
echo public > community 
echo private >> community 
echo manager >> community 
for ip in $(seq 1 254); do echo 10.11.1.$ip; done > ips onesixtyone -c community -i ips
```





